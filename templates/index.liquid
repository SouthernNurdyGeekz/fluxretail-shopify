<section style="min-height:30vh;display:grid;place-items:center;text-align:center;padding:32px;background:#1a1033;color:#d5d8de">
  <div>
    <h1 style="margin:0 0 .5rem 0;font-size:42px">FluxRetail</h1>
    <p style="margin:0 0 1rem 0;font-size:18px">Paste link -> preview -> publish everywhere</p>
    <a href="/collections/all" style="border:1px solid currentColor;padding:.6rem 1rem;text-decoration:none">Browse</a>
  </div>
</section>

<section style="padding:32px">
  <div style="display:flex;justify-content:space-between;align-items:center;margin:0 0 16px 0">
    <h2 style="margin:0">Featured</h2>
    <a href="/collections/all" style="border:1px solid currentColor;padding:.4rem .8rem;text-decoration:none">Browse all</a>
  </div>

  {% comment %}
    SAFE LOGIC:
    - Never compare to 0 (some shops expose counts as strings).
    - Use 'first' to detect presence of products.
  {% endcomment %}
  {% assign coll = collections['halloween'] %}
  {% if coll == nil %}{% assign coll = collections['all'] %}{% endif %}

  {% assign first_product = nil %}
  {% if coll %}{% assign first_product = coll.products | first %}{% endif %}

  <div style="display:grid;grid-template-columns:repeat(auto-fill,minmax(180px,1fr));gap:16px">
    {% if first_product %}
      {% for p in coll.products | limit: 12 %}
        <a href="{{ p.url }}" style="text-decoration:none;border:1px solid #3a3455;padding:12px;display:block;background:#1e163a;color:#d5d8de">
          <div style="aspect-ratio:1/1;background:#2a214d;display:grid;place-items:center;overflow:hidden">
            {% if p.featured_image %}
              <img src="{{ p.featured_image | image_url: width: 400 }}" alt="{{ p.title | escape }}" style="width:100%;height:100%;object-fit:cover" />
            {% else %}<span style="opacity:.7">No image</span>{% endif %}
          </div>
          <div style="margin-top:8px;font-weight:600">{{ p.title }}</div>
          <div style="opacity:.85">{{ p.price | money }}</div>
        </a>
      {% endfor %}
    {% else %}
      {% for i in (1..8) %}
        <div style="border:1px solid #3a3455;padding:12px;background:#1e163a;color:#d5d8de">
          <div style="aspect-ratio:1/1;background:#2a214d;display:grid;place-items:center"><span style="opacity:.7">Coming soon</span></div>
          <div style="margin-top:8px;font-weight:600">Product {{ i }}</div>
          <div style="opacity:.85">$19.99</div>
        </div>
      {% endfor %}
    {% endif %}
  </div>
</section>

{% section 'footer-basic' %}
